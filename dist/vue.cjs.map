{"version":3,"file":"vue.cjs","sources":["../src/vue/index.ts"],"sourcesContent":["import { createApp, h } from 'vue';\r\nimport VueToast from './Toast.vue';\r\nimport type { ToastProps } from '../types.js';\r\n\r\n// Store for tracking active toast apps\r\ninterface ToastApp {\r\n  app: ReturnType<typeof createApp>;\r\n  element: HTMLElement;\r\n}\r\n\r\n// Toast option types\r\nexport type ToastOptions = Partial<Omit<ToastProps, 'message' | 'type'>> & {\r\n  theme?: 'light' | 'dark' | 'auto'\r\n};\r\n\r\n// Define the toast API interface\r\nexport interface ToastAPI {\r\n  show: (props: ToastProps & { theme?: 'light' | 'dark' | 'auto' }) => string;\r\n  success: (message: string, options?: ToastOptions) => string;\r\n  error: (message: string, options?: ToastOptions) => string;\r\n  info: (message: string, options?: ToastOptions) => string;\r\n  dismiss: (id: string) => void;\r\n  dismissAll: () => void;\r\n}\r\n\r\n// Keep track of all active toasts\r\nconst toastApps: Record<string, ToastApp> = {};\r\n\r\n// Main toast API object\r\nconst toast: ToastAPI = {\r\n  /**\r\n   * Shows a toast notification with the given props\r\n   */\r\n  show: (props: ToastProps & { theme?: 'light' | 'dark' | 'auto' }) => {\r\n    // Create mount element for the toast\r\n    const toastElement = document.createElement('div');\r\n    document.body.appendChild(toastElement);\r\n\r\n    // Generate unique ID for this toast instance\r\n    const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n    // Create Vue app\r\n    const app = createApp({\r\n      render() {\r\n        return h(VueToast, {\r\n          ...props,\r\n          onHide: () => {\r\n            // Chain the original onHide if provided\r\n            if (props.onHide) {\r\n              props.onHide();\r\n            }\r\n\r\n            // Clean up this toast\r\n            toast.dismiss(id);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // Store references for cleanup\r\n    toastApps[id] = { app, element: toastElement };\r\n\r\n    // Mount Vue app\r\n    app.mount(toastElement);\r\n\r\n    return id;\r\n  },\r\n\r\n  /**\r\n   * Shows a success toast notification\r\n   */\r\n  success: (\r\n    message: string,\r\n    options?: ToastOptions\r\n  ) => {\r\n    return toast.show({\r\n      message,\r\n      type: 'success',\r\n      position: 'bottom-right',\r\n      duration: 3000,\r\n      ...options\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Shows an error toast notification\r\n   */\r\n  error: (\r\n    message: string,\r\n    options?: ToastOptions\r\n  ) => {\r\n    return toast.show({\r\n      message,\r\n      type: 'error',\r\n      position: 'bottom-right',\r\n      duration: 4000,\r\n      ...options\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Shows an info toast notification\r\n   */\r\n  info: (\r\n    message: string,\r\n    options?: ToastOptions\r\n  ) => {\r\n    return toast.show({\r\n      message,\r\n      type: 'info',\r\n      position: 'bottom-right',\r\n      duration: 3000,\r\n      ...options\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Dismisses a specific toast by ID\r\n   */\r\n  dismiss: (id: string) => {\r\n    const toastApp = toastApps[id];\r\n    if (toastApp) {\r\n      // Unmount Vue app\r\n      toastApp.app.unmount();\r\n\r\n      // Remove the DOM element with a small delay to allow animations to complete\r\n      setTimeout(() => {\r\n        if (document.body.contains(toastApp.element)) {\r\n          document.body.removeChild(toastApp.element);\r\n        }\r\n      }, 100);\r\n\r\n      // Remove from tracking object\r\n      delete toastApps[id];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Dismisses all active toasts\r\n   */\r\n  dismissAll: () => {\r\n    Object.keys(toastApps).forEach(id => toast.dismiss(id));\r\n  }\r\n};\r\n\r\nexport { VueToast, toast };\r\nexport type { ToastProps };"],"names":["toastApps","toast","props","toastElement","id","app","createApp","h","VueToast","message","options","toastApp"],"mappings":"yIA0BMA,EAAsC,CAAC,EAGvCC,EAAkB,CAItB,KAAOC,GAA8D,CAE7D,MAAAC,EAAe,SAAS,cAAc,KAAK,EACxC,SAAA,KAAK,YAAYA,CAAY,EAGtC,MAAMC,EAAK,SAAS,KAAK,IAAA,CAAK,IAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,OAAO,EAAG,CAAC,CAAC,GAGnEC,EAAMC,EAAAA,UAAU,CACpB,QAAS,CACP,OAAOC,EAAAA,EAAEC,EAAAA,SAAU,CACjB,GAAGN,EACH,OAAQ,IAAM,CAERA,EAAM,QACRA,EAAM,OAAO,EAIfD,EAAM,QAAQG,CAAE,CAAA,CAClB,CACD,CAAA,CACH,CACD,EAGD,OAAAJ,EAAUI,CAAE,EAAI,CAAE,IAAAC,EAAK,QAASF,CAAa,EAG7CE,EAAI,MAAMF,CAAY,EAEfC,CACT,EAKA,QAAS,CACPK,EACAC,IAEOT,EAAM,KAAK,CAChB,QAAAQ,EACA,KAAM,UACN,SAAU,eACV,SAAU,IACV,GAAGC,CAAA,CACJ,EAMH,MAAO,CACLD,EACAC,IAEOT,EAAM,KAAK,CAChB,QAAAQ,EACA,KAAM,QACN,SAAU,eACV,SAAU,IACV,GAAGC,CAAA,CACJ,EAMH,KAAM,CACJD,EACAC,IAEOT,EAAM,KAAK,CAChB,QAAAQ,EACA,KAAM,OACN,SAAU,eACV,SAAU,IACV,GAAGC,CAAA,CACJ,EAMH,QAAUN,GAAe,CACjB,MAAAO,EAAWX,EAAUI,CAAE,EACzBO,IAEFA,EAAS,IAAI,QAAQ,EAGrB,WAAW,IAAM,CACX,SAAS,KAAK,SAASA,EAAS,OAAO,GAChC,SAAA,KAAK,YAAYA,EAAS,OAAO,GAE3C,GAAG,EAGN,OAAOX,EAAUI,CAAE,EAEvB,EAKA,WAAY,IAAM,CACT,OAAA,KAAKJ,CAAS,EAAE,WAAcC,EAAM,QAAQG,CAAE,CAAC,CAAA,CAE1D"}