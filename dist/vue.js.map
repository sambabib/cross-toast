{"version":3,"file":"vue.js","sources":["../src/vue/index.ts"],"sourcesContent":["import { createApp, h } from 'vue';\r\nimport VueToast from './Toast.vue';\r\nimport type { ToastProps } from '../types.js';\r\n\r\n// Store for tracking active toast apps\r\ninterface ToastApp {\r\n  app: ReturnType<typeof createApp>;\r\n  element: HTMLElement;\r\n}\r\n\r\n// Toast option types\r\nexport type ToastOptions = Partial<Omit<ToastProps, 'message' | 'type'>> & {\r\n  theme?: 'light' | 'dark' | 'auto'\r\n};\r\n\r\n// Define the toast API interface\r\nexport interface ToastAPI {\r\n  show: (props: ToastProps & { theme?: 'light' | 'dark' | 'auto' }) => string;\r\n  success: (message: string, options?: ToastOptions) => string;\r\n  error: (message: string, options?: ToastOptions) => string;\r\n  info: (message: string, options?: ToastOptions) => string;\r\n  dismiss: (id: string) => void;\r\n  dismissAll: () => void;\r\n}\r\n\r\n// Keep track of all active toasts\r\nconst toastApps: Record<string, ToastApp> = {};\r\n\r\n// Main toast API object\r\nconst toast: ToastAPI = {\r\n  /**\r\n   * Shows a toast notification with the given props\r\n   */\r\n  show: (props: ToastProps & { theme?: 'light' | 'dark' | 'auto' }) => {\r\n    // Create mount element for the toast\r\n    const toastElement = document.createElement('div');\r\n    document.body.appendChild(toastElement);\r\n\r\n    // Generate unique ID for this toast instance\r\n    const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n    // Create Vue app\r\n    const app = createApp({\r\n      render() {\r\n        return h(VueToast, {\r\n          ...props,\r\n          onHide: () => {\r\n            // Chain the original onHide if provided\r\n            if (props.onHide) {\r\n              props.onHide();\r\n            }\r\n\r\n            // Clean up this toast\r\n            toast.dismiss(id);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // Store references for cleanup\r\n    toastApps[id] = { app, element: toastElement };\r\n\r\n    // Mount Vue app\r\n    app.mount(toastElement);\r\n\r\n    return id;\r\n  },\r\n\r\n  /**\r\n   * Shows a success toast notification\r\n   */\r\n  success: (\r\n    message: string,\r\n    options?: ToastOptions\r\n  ) => {\r\n    return toast.show({\r\n      message,\r\n      type: 'success',\r\n      position: 'bottom-right',\r\n      duration: 3000,\r\n      ...options\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Shows an error toast notification\r\n   */\r\n  error: (\r\n    message: string,\r\n    options?: ToastOptions\r\n  ) => {\r\n    return toast.show({\r\n      message,\r\n      type: 'error',\r\n      position: 'bottom-right',\r\n      duration: 4000,\r\n      ...options\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Shows an info toast notification\r\n   */\r\n  info: (\r\n    message: string,\r\n    options?: ToastOptions\r\n  ) => {\r\n    return toast.show({\r\n      message,\r\n      type: 'info',\r\n      position: 'bottom-right',\r\n      duration: 3000,\r\n      ...options\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Dismisses a specific toast by ID\r\n   */\r\n  dismiss: (id: string) => {\r\n    const toastApp = toastApps[id];\r\n    if (toastApp) {\r\n      // Unmount Vue app\r\n      toastApp.app.unmount();\r\n\r\n      // Remove the DOM element with a small delay to allow animations to complete\r\n      setTimeout(() => {\r\n        if (document.body.contains(toastApp.element)) {\r\n          document.body.removeChild(toastApp.element);\r\n        }\r\n      }, 100);\r\n\r\n      // Remove from tracking object\r\n      delete toastApps[id];\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Dismisses all active toasts\r\n   */\r\n  dismissAll: () => {\r\n    Object.keys(toastApps).forEach(id => toast.dismiss(id));\r\n  }\r\n};\r\n\r\nexport { VueToast, toast };\r\nexport type { ToastProps };"],"names":["toastApps","toast","props","toastElement","id","app","createApp","h","VueToast","message","options","toastApp"],"mappings":";;AA0BA,MAAMA,IAAsC,CAAC,GAGvCC,IAAkB;AAAA;AAAA;AAAA;AAAA,EAItB,MAAM,CAACC,MAA8D;AAE7D,UAAAC,IAAe,SAAS,cAAc,KAAK;AACxC,aAAA,KAAK,YAAYA,CAAY;AAGtC,UAAMC,IAAK,SAAS,KAAK,IAAA,CAAK,IAAI,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC,IAGnEC,IAAMC,EAAU;AAAA,MACpB,SAAS;AACP,eAAOC,EAAEC,GAAU;AAAA,UACjB,GAAGN;AAAA,UACH,QAAQ,MAAM;AAEZ,YAAIA,EAAM,UACRA,EAAM,OAAO,GAIfD,EAAM,QAAQG,CAAE;AAAA,UAAA;AAAA,QAClB,CACD;AAAA,MAAA;AAAA,IACH,CACD;AAGD,WAAAJ,EAAUI,CAAE,IAAI,EAAE,KAAAC,GAAK,SAASF,EAAa,GAG7CE,EAAI,MAAMF,CAAY,GAEfC;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,SAAS,CACPK,GACAC,MAEOT,EAAM,KAAK;AAAA,IAChB,SAAAQ;AAAA,IACA,MAAM;AAAA,IACN,UAAU;AAAA,IACV,UAAU;AAAA,IACV,GAAGC;AAAA,EAAA,CACJ;AAAA;AAAA;AAAA;AAAA,EAMH,OAAO,CACLD,GACAC,MAEOT,EAAM,KAAK;AAAA,IAChB,SAAAQ;AAAA,IACA,MAAM;AAAA,IACN,UAAU;AAAA,IACV,UAAU;AAAA,IACV,GAAGC;AAAA,EAAA,CACJ;AAAA;AAAA;AAAA;AAAA,EAMH,MAAM,CACJD,GACAC,MAEOT,EAAM,KAAK;AAAA,IAChB,SAAAQ;AAAA,IACA,MAAM;AAAA,IACN,UAAU;AAAA,IACV,UAAU;AAAA,IACV,GAAGC;AAAA,EAAA,CACJ;AAAA;AAAA;AAAA;AAAA,EAMH,SAAS,CAACN,MAAe;AACjB,UAAAO,IAAWX,EAAUI,CAAE;AAC7B,IAAIO,MAEFA,EAAS,IAAI,QAAQ,GAGrB,WAAW,MAAM;AACf,MAAI,SAAS,KAAK,SAASA,EAAS,OAAO,KAChC,SAAA,KAAK,YAAYA,EAAS,OAAO;AAAA,OAE3C,GAAG,GAGN,OAAOX,EAAUI,CAAE;AAAA,EAEvB;AAAA;AAAA;AAAA;AAAA,EAKA,YAAY,MAAM;AACT,WAAA,KAAKJ,CAAS,EAAE,QAAQ,OAAMC,EAAM,QAAQG,CAAE,CAAC;AAAA,EAAA;AAE1D;"}